---
description: Index of shared types, validators, and constants exported from packages/shared
globs: packages/shared/src/**
alwaysApply: false
---

# Shared Contracts Index

All exports from `packages/shared/src/index.ts`. Import as `@odyssey/shared`.

## Type Modules (`src/types/`)

| File | Key Exports |
|------|-------------|
| `auth.ts` | `AuthUser`, `RegisterRequest`, `LoginRequest` |
| `classroom.ts` | `Classroom`, `ClassroomMembership` |
| `player.ts` | `PlayerProfile` |
| `task.ts` | `TaskDefinition`, `TaskAnswer`, `TaskResult` |
| `messages.ts` | `ClientMessage`, `ServerMessage` enums |
| `interaction.ts` | `MovePayload`, `InteractPayload`, `HotbarSelectPayload` |
| `tool.ts` | `ToolId`, `ToolActionType` |
| `inventory.ts` | `ItemInstance` (instanceId, definitionId, definitionVersion, quantity, containedItems?) |
| `itemDefinition.ts` | `ItemDefinition`, `ItemRarity`, `ITEM_RARITIES`, `ComponentDescriptor` |
| `equipmentSlot.ts` | `EquipmentSlot` (`"hand" \| "head"`), `EQUIPMENT_SLOTS` |
| `currency.ts` | `CurrencyType` (`"coins" \| "museum_points"`), `CurrencyReward` |
| `itemAction.ts` | `ItemAction` (`"drop" \| "equip" \| ...`), `ItemActionRequest` |
| `container.ts` | `ContainerKind`, `ContainerDefinition`, `LootEntry`, `OpenContainerPayload`, `ClaimContainerPayload` |
| `resource.ts` | `PlayerResourceState` |
| `npc.ts` | `NpcDefinition`, `DialogueLine` |
| `map.ts` | `TiledMapData`, `MapNpcPlacement` |

## Zod Validators (`src/validators/`)

One `*.schema.ts` per type module. Notable additions:
- `itemDefinition.schema.ts` — `itemDefinitionSchema`, `itemRaritySchema`, `componentDescriptorSchema`
- `equipmentSlot.schema.ts` — `equipmentSlotSchema`
- `currency.schema.ts` — `currencyTypeSchema`, `currencyRewardSchema`
- `container.schema.ts` — `containerDefinitionSchema`, `openContainerPayloadSchema`, `claimContainerPayloadSchema`
- `itemAction.schema.ts` — `itemActionSchema`, `equipItemPayloadSchema`, `unequipItemPayloadSchema`, `dropItemPayloadSchema`

## Constants

- `constants/game.ts` — `TILE_SIZE`, `PLAYER_MOVE_SPEED`, `ROOM_TICK_RATE_MS`
- `constants/equipmentAnchors.ts` — `EQUIPMENT_ANCHORS`, `FacingDirection`, `AnchorConfig` (per-slot per-direction sprite offsets)

## Utilities (`src/utils/rng.ts`)

Seeded RNG for deterministic randomness.

## Stable Contracts (do not break)

- `TaskDefinition` and `TaskResult` shapes
- `NpcDefinition` and `DialogueLine` shapes
- `TiledMapData` and layer schemas
- `ClientMessage` / `ServerMessage` enums (additive only)
- `ItemDefinition` / `ItemInstance` shapes
- `ContainerDefinition` shape
- Task validator function signature
